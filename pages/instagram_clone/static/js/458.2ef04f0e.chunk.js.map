{"version":3,"file":"static/js/458.2ef04f0e.chunk.js","mappings":"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","sources":["pages/sign-up.js","services/firebase.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js"],"sourcesContent":["import { useState, useContext, useEffect } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport FirebaseContext from '../context/firebase';\r\nimport * as ROUTES from '../constants/routes';\r\nimport { doesUsernameExist } from '../services/firebase';\r\n\r\nexport default function SignUp() {\r\n  const navigate = useNavigate();\r\n  const { firebase } = useContext(FirebaseContext);\r\n\r\n  const [username, setUserName] = useState('');\r\n  const [fullName, setFullName] = useState('');\r\n  const [emailAddress, setEmailAddress] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const [error, setError] = useState('');\r\n  const isInvalid = password === '' || emailAddress === '';\r\n\r\n  //user signup handler\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n\r\n    const usernameExists = await doesUsernameExist(username);\r\n\r\n    if (usernameExists.length === 0) {\r\n      try {\r\n        const createdUserResult = await firebase\r\n          .auth()\r\n          .createUserWithEmailAndPassword(emailAddress, password);\r\n\r\n        //authentication\r\n        await createdUserResult.user.updateProfile({ displayName: username });\r\n\r\n        //firebase user creation\r\n        await firebase.firestore().collection('users').add({\r\n          userId: createdUserResult.user.uid,\r\n          username: username.toLowerCase(),\r\n          fullName,\r\n          emailAddress: emailAddress.toLocaleLowerCase(),\r\n          following: [],\r\n          dateCreated: Date.now(),\r\n        });\r\n        //add nav history to react router dom\r\n        navigate(ROUTES.DASHBOARD);\r\n      } catch (error) {\r\n        setFullName('');\r\n        setEmailAddress('');\r\n        setPassword('');\r\n        setUserName('');\r\n        setError(error.message);\r\n      }\r\n    } else {\r\n      setError('That username is already taken, please try another');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    document.title = 'Sign Up - Instagram';\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"container flex mx-auto h-screen max-w-screen-md items-center\">\r\n      <div className=\"flex w-3/5\">\r\n        <img\r\n          src=\"./images/iphone-with-profile.jpg\"\r\n          alt=\"iPhone with instagram app\"\r\n        />\r\n      </div>\r\n      <div className=\"flex flex-col w-2/5\">\r\n        <div className=\"flex flex-col item-center bg-white p-4 mb-4 border rounded border-gray-primary\">\r\n          <h1 className=\"flex justify-center w-full\">\r\n            <img\r\n              src=\"./images/logo.png\"\r\n              alt=\"instagram logo\"\r\n              className=\"mt-2 w-6/12 mb-4\"\r\n            />\r\n          </h1>\r\n          {error && <p className=\"mb-4 text-xs text-red-primary\">{error}</p>}\r\n\r\n          <form onSubmit={handleSignup} autoComplete=\"off\" method=\"POST\">\r\n            <input\r\n              aria-label=\"Enter your email address\"\r\n              type=\"text\"\r\n              placeholder=\"Email Address\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2 bg-gray-background\"\r\n              onChange={(e) => setEmailAddress(e.target.value)}\r\n              value={emailAddress}\r\n              autoComplete=\"off\"\r\n            ></input>\r\n            <input\r\n              aria-label=\"Enter your full name\"\r\n              type=\"text\"\r\n              placeholder=\"Full Name\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2 bg-gray-background\"\r\n              onChange={(e) => setFullName(e.target.value)}\r\n              value={fullName}\r\n              autoComplete=\"off\"\r\n            ></input>\r\n            <input\r\n              aria-label=\"Enter your username\"\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2 bg-gray-background\"\r\n              onChange={(e) => setUserName(e.target.value)}\r\n              value={username}\r\n              autoComplete=\"off\"\r\n            ></input>\r\n            <input\r\n              aria-label=\"Enter your password\"\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              className=\"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2 bg-gray-background\"\r\n              onChange={({ target }) => setPassword(target.value)}\r\n              value={password}\r\n              autoComplete=\"off\"\r\n            ></input>\r\n            <button\r\n              disabled={isInvalid}\r\n              type=\"submit\"\r\n              className={`bg-blue-medium text-white w-full rounded h-8 font-bold ${\r\n                isInvalid && `opacity-50`\r\n              } `}\r\n            >\r\n              Sign Up\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <div className=\"flex justify-center items-center flex-col w-full bg-white p-4 border rounded border-gray-primary\">\r\n          <p className=\"text-sm\">\r\n            Have an account? {``}\r\n            <Link to={ROUTES.LOGIN} className=\"font-bold text-blue-medium\">\r\n              Sign In\r\n            </Link>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { firebase, FieldValue } from '../lib/firebase';\r\n\r\nimport { doc, getDoc } from 'firebase/firestore';\r\n\r\n//checks firestore to see if user exists, returns an array\r\nexport async function doesUsernameExist(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('username', '==', username)\r\n    .get();\r\n\r\n  console.log('result', result);\r\n\r\n  return result.docs.map((user) => user.data().length > 0);\r\n}\r\n\r\n//checks firestore for specific username\r\nexport async function getUserByUsername(username) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('username', '==', username)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\n//checks firestore to get specific user by their userId\r\nexport async function getUserByUserId(userId) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('userId', '==', userId)\r\n    .get();\r\n\r\n  const user = result.docs.map((user) => ({ ...user.data(), docId: user.id }));\r\n\r\n  return user;\r\n}\r\n\r\n//checks firestore to suggest users you are not currently following, and that are not you\r\nexport async function getSuggestedProfiles(userId, following) {\r\n  const result = await firebase.firestore().collection('users').get();\r\n\r\n  const user = result.docs\r\n    .map((user) => ({ ...user.data(), docId: user.id }))\r\n    .filter(\r\n      (profile) =>\r\n        profile.userId !== userId && !following.includes(profile.userId)\r\n    );\r\n\r\n  return user;\r\n}\r\n\r\nexport async function updateLoggedInUserFollowing(\r\n  loggedInUserDocId, //currently logged in user doc Id\r\n  profileId, //user that logged in user requrests to follow\r\n  isFollowingProfile //true/false, currently following this person\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(loggedInUserDocId)\r\n    .update({\r\n      following: isFollowingProfile\r\n        ? FieldValue.arrayRemove(profileId)\r\n        : FieldValue.arrayUnion(profileId),\r\n    });\r\n}\r\n\r\nexport async function updatedFollowedUserFollowers(\r\n  profileDocId,\r\n  loggedInUserDocId,\r\n  isFollowingProfile\r\n) {\r\n  return firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .doc(profileDocId)\r\n    .update({\r\n      followers: isFollowingProfile\r\n        ? FieldValue.arrayRemove(loggedInUserDocId)\r\n        : FieldValue.arrayUnion(loggedInUserDocId),\r\n    });\r\n}\r\n\r\nexport async function getPhotos(userId, following) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('photos')\r\n    .where('userId', 'in', following)\r\n    .get();\r\n\r\n  const userFollowedPhotos = result.docs.map((photo) => ({\r\n    ...photo.data(),\r\n    docId: photo.id,\r\n  }));\r\n\r\n  const photosWithUserDetails = await Promise.all(\r\n    userFollowedPhotos.map(async (photo) => {\r\n      let userLikedPhoto = false;\r\n      if (photo.likes.includes(userId)) {\r\n        userLikedPhoto = true;\r\n      }\r\n      const user = await getUserByUserId(photo.userId);\r\n      const { username } = user[0];\r\n      return { username, ...photo, userLikedPhoto };\r\n    })\r\n  );\r\n\r\n  return photosWithUserDetails;\r\n}\r\n\r\nexport async function getUserPhotosByUsername(username) {\r\n  const [user] = await getUserByUsername(username);\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('photos')\r\n    .where('userId', '==', user.userId)\r\n    .get();\r\n\r\n  return result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n}\r\n\r\nexport async function isUserFollowingProfile(\r\n  loggedInUserUsername,\r\n  profileUserId\r\n) {\r\n  const result = await firebase\r\n    .firestore()\r\n    .collection('users')\r\n    .where('username', '==', loggedInUserUsername)\r\n    .where('following', 'array-contains', profileUserId)\r\n    .get();\r\n\r\n  const [response = {}] = result.docs.map((item) => ({\r\n    ...item.data(),\r\n    docId: item.id,\r\n  }));\r\n\r\n  return response.userId;\r\n}\r\n\r\nexport async function toggleFollow(\r\n  isFollowingProfile,\r\n  activeUserDocId,\r\n  profileDocId,\r\n  profileUserId,\r\n  followingUserId\r\n) {\r\n  //1st: currently logged in user doc id\r\n  //2nd: user id of person to follow\r\n  //3rd: is the logged in user already following this profile\r\n  await updateLoggedInUserFollowing(\r\n    activeUserDocId,\r\n    profileUserId,\r\n    isFollowingProfile\r\n  );\r\n  //1st: currently logged in user id\r\n  //2nd: doc id of person to follow\r\n  //3rd: is the logged in user already following this profile\r\n  await updatedFollowedUserFollowers(\r\n    profileDocId,\r\n    followingUserId,\r\n    isFollowingProfile\r\n  );\r\n}\r\n","import defineProperty from \"./defineProperty.js\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n\n  return target;\n}"],"names":["SignUp","navigate","useNavigate","firebase","useContext","FirebaseContext","useState","username","setUserName","fullName","setFullName","emailAddress","setEmailAddress","password","setPassword","error","setError","isInvalid","handleSignup","e","preventDefault","doesUsernameExist","length","auth","createUserWithEmailAndPassword","createdUserResult","user","updateProfile","displayName","firestore","collection","add","userId","uid","toLowerCase","toLocaleLowerCase","following","dateCreated","Date","now","ROUTES","message","useEffect","document","title","className","src","alt","onSubmit","autoComplete","method","type","placeholder","onChange","target","value","disabled","to","where","get","result","console","log","docs","map","data","getUserByUsername","item","docId","id","getUserByUserId","getSuggestedProfiles","filter","profile","includes","updateLoggedInUserFollowing","loggedInUserDocId","profileId","isFollowingProfile","doc","update","FieldValue","updatedFollowedUserFollowers","profileDocId","followers","getPhotos","userFollowedPhotos","photo","Promise","all","userLikedPhoto","likes","photosWithUserDetails","getUserPhotosByUsername","isUserFollowingProfile","loggedInUserUsername","profileUserId","response","toggleFollow","activeUserDocId","followingUserId","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","i","arguments","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty"],"sourceRoot":""}