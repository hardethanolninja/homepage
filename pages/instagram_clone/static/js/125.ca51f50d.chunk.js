"use strict";(self.webpackChunkinstagram_clone=self.webpackChunkinstagram_clone||[]).push([[125],{5837:function(e,r,t){t.d(r,{Z:function(){return f}});var n=t(2791),a=t(3504),o=t(2303),s=t(6307),i=t(8155);var u=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))}));var c=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"}))})),l=t(184);function f(){var e=(0,n.useContext)(o.Z).firebase,r=(0,n.useContext)(s.Z).user;return(0,l.jsx)("header",{className:"h-16 bg-white border-b border-gray-primary mb-8",children:(0,l.jsx)("div",{className:"container mx-auto max-w-screen-lg h-full",children:(0,l.jsxs)("div",{className:"flex justify-between h-full",children:[(0,l.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items cursor-pointer",children:(0,l.jsx)("h1",{className:"flex justify-center w-full",children:(0,l.jsx)(a.rU,{to:i.h1,"aria-label":"Instagram logo",children:(0,l.jsx)("img",{src:"./images/logo.png",alt:"Instagram",className:"mt-2 w-6/12"})})})}),(0,l.jsx)("div",{className:"text-gray-700 text-center flex items-center align-items",children:r?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.rU,{to:i.h1,"aria-label":"Dashboard",children:(0,l.jsx)(u,{className:"w-8 mr-6 text-black-light cursor-pointer hover:text-black-faded"})}),(0,l.jsx)("button",{type:"button",title:"Sign Out",onClick:function(){return e.auth().signOut()},onKeyDown:function(r){"Enter"===r.key&&e.auth().signOut()},children:(0,l.jsx)(c,{className:"w-8 mr-6 text-black-light cursor-pointer hover:text-black-faded"})}),(0,l.jsx)("div",{className:"flex items-center cursor-pointer",children:(0,l.jsx)(a.rU,{to:"/p/".concat(r.displayName),children:(0,l.jsx)("img",{className:"rounded-full h-8 w-8 flex",src:"jon"===r.displayName||"orwell"===r.displayName||"dali"===r.displayName||"raphael"===r.displayName||"candy"===r.displayName?"./images/avatars/".concat(r.displayName,".jpg"):"./images/avatars/default.png",alt:"".concat(r.displayName," profile")})})})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.rU,{to:i.ym,children:[(0,l.jsx)("button",{type:"button",className:"bg-blue-medium font-bold text-sm rounded text-white w-20 h-8 mr-2",children:"Log in"})," "]}),(0,l.jsx)(a.rU,{to:i._5,children:(0,l.jsx)("button",{type:"button",className:"font-bold text-sm rounded text-blue-medium w-20 h-8 border border-blue-medium",children:"Sign Up"})})]})})]})})})}},6920:function(e,r,t){t.d(r,{Z:function(){return l}});var n=t(5861),a=t(9439),o=t(7757),s=t.n(o),i=t(2791),u=t(6307),c=t(6042);function l(){var e=(0,i.useState)({}),r=(0,a.Z)(e,2),t=r[0],o=r[1],l=(0,i.useContext)(u.Z).user;return(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(s().mark((function e(){var r,t,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.xD)(l.uid);case 2:r=e.sent,t=(0,a.Z)(r,1),n=t[0],o(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}null!==l&&void 0!==l&&l.uid&&function(){e.apply(this,arguments)}()}),[l]),{user:t}}},6042:function(e,r,t){t.d(r,{$K:function(){return c},wP:function(){return b},ve:function(){return m},xD:function(){return p},dQ:function(){return f},_T:function(){return Z},IU:function(){return O},Gm:function(){return I},NS:function(){return v},vF:function(){return x}});var n=t(9439),a=t(1413),o=t(5861),s=t(7757),i=t.n(s),u=t(5306);t(9692);function c(e){return l.apply(this,arguments)}function l(){return(l=(0,o.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.w.firestore().collection("users").where("username","==",r).get();case 2:return t=e.sent,console.log("result",t),e.abrupt("return",t.docs.map((function(e){return e.data().length>0})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return d.apply(this,arguments)}function d(){return(d=(0,o.Z)(i().mark((function e(r){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.w.firestore().collection("users").where("username","==",r).get();case 2:return t=e.sent,e.abrupt("return",t.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=(0,o.Z)(i().mark((function e(r){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.w.firestore().collection("users").where("userId","==",r).get();case 2:return t=e.sent,n=t.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,r){return w.apply(this,arguments)}function w(){return(w=(0,o.Z)(i().mark((function e(r,t){var n,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.w.firestore().collection("users").get();case 2:return n=e.sent,o=n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})).filter((function(e){return e.userId!==r&&!t.includes(e.userId)})),e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e,r,t){return y.apply(this,arguments)}function y(){return(y=(0,o.Z)(i().mark((function e(r,t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.w.firestore().collection("users").doc(r).update({following:n?u.G.arrayRemove(t):u.G.arrayUnion(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e,r,t){return g.apply(this,arguments)}function g(){return(g=(0,o.Z)(i().mark((function e(r,t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.w.firestore().collection("users").doc(r).update({followers:n?u.G.arrayRemove(t):u.G.arrayUnion(t)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,r){return j.apply(this,arguments)}function j(){return j=(0,o.Z)(i().mark((function e(r,t){var n,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.w.firestore().collection("photos").where("userId","in",t).get();case 2:return n=e.sent,s=n.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),e.next=6,Promise.all(s.map(function(){var e=(0,o.Z)(i().mark((function e(t){var n,o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!1,t.likes.includes(r)&&(n=!0),e.next=4,p(t.userId);case 4:return o=e.sent,s=o[0].username,e.abrupt("return",(0,a.Z)((0,a.Z)({username:s},t),{},{userLikedPhoto:n}));case 7:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()));case 6:return c=e.sent,e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function Z(e){return k.apply(this,arguments)}function k(){return(k=(0,o.Z)(i().mark((function e(r){var t,o,s,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(r);case 2:return t=e.sent,o=(0,n.Z)(t,1),s=o[0],e.next=7,u.w.firestore().collection("photos").where("userId","==",s.userId).get();case 7:return c=e.sent,e.abrupt("return",c.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e,r){return N.apply(this,arguments)}function N(){return(N=(0,o.Z)(i().mark((function e(r,t){var o,s,c,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.w.firestore().collection("users").where("username","==",r).where("following","array-contains",t).get();case 2:return o=e.sent,s=o.docs.map((function(e){return(0,a.Z)((0,a.Z)({},e.data()),{},{docId:e.id})})),c=(0,n.Z)(s,1),l=c[0],f=void 0===l?{}:l,e.abrupt("return",f.userId);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e,r,t,n,a){return E.apply(this,arguments)}function E(){return(E=(0,o.Z)(i().mark((function e(r,t,n,a,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(t,a,r);case 2:return e.next=4,x(n,o,r);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},1413:function(e,r,t){t.d(r,{Z:function(){return o}});var n=t(4942);function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}},8260:function(e,r,t){var n=t(2791);var a=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}))}));r.Z=a},4539:function(e,r,t){var n=t(2791);var a=n.forwardRef((function(e,r){return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:r},e),n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))}));r.Z=a},6839:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(9439),a=t(1413);function o(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var s=t(2791),i=["count","wrapper","className","containerClassName","containerTestId","circle","style"],u=s.createContext({});function c(e){for(var r,t,c=e.count,l=void 0===c?1:c,f=e.wrapper,d=e.className,p=e.containerClassName,h=e.containerTestId,m=e.circle,w=void 0!==m&&m,v=e.style,y=o(e,i),x=s.useContext(u),g=(0,a.Z)({},y),b=0,j=Object.entries(y);b<j.length;b++){var Z=(0,n.Z)(j[b],2),k=Z[0];"undefined"===typeof Z[1]&&delete g[k]}var O=(0,a.Z)((0,a.Z)((0,a.Z)({},x),g),{},{circle:w}),N=(0,a.Z)((0,a.Z)({},v),function(e){var r=e.baseColor,t=e.highlightColor,n=e.width,a=e.height,o=e.borderRadius,s=e.circle,i=e.direction,u=e.duration,c=e.enableAnimation,l=void 0===c||c,f={};return"rtl"===i&&(f["--animation-direction"]="reverse"),"number"===typeof u&&(f["--animation-duration"]="".concat(u,"s")),l||(f["--pseudo-element-display"]="none"),"string"!==typeof n&&"number"!==typeof n||(f.width=n),"string"!==typeof a&&"number"!==typeof a||(f.height=a),"string"!==typeof o&&"number"!==typeof o||(f.borderRadius=o),s&&(f.borderRadius="50%"),"undefined"!==typeof r&&(f["--base-color"]=r),"undefined"!==typeof t&&(f["--highlight-color"]=t),f}(O)),I="react-loading-skeleton";d&&(I+=" ".concat(d));for(var E=null!==(r=O.inline)&&void 0!==r&&r,C=[],L=0;L<l;L++){var P=s.createElement("span",{className:I,style:N,key:L},"\u200c");E?C.push(P):C.push(s.createElement(s.Fragment,{key:L},P,s.createElement("br",null)))}return s.createElement("span",{className:p,"data-testid":h,"aria-live":"polite","aria-busy":null===(t=O.enableAnimation)||void 0===t||t},f?C.map((function(e,r){return s.createElement(f,{key:r},e)})):C)}}}]);
//# sourceMappingURL=125.ca51f50d.chunk.js.map